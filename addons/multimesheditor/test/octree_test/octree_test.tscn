[gd_scene load_steps=26 format=3 uid="uid://c2oaxmwlic2rc"]

[ext_resource type="Material" uid="uid://c1kohdpddpx58" path="res://assets/grid_mat.tres" id="2_s7u2m"]
[ext_resource type="Script" uid="uid://dre8v2iurryb6" path="res://addons/mmpluseditor/resources/mm_plus_mesh.gd" id="2_sx5wx"]
[ext_resource type="Script" uid="uid://be4lu3ug8donp" path="res://addons/multimesheditor/mm_plus/mm_plus_3d.gd" id="2_u2sx3"]
[ext_resource type="Script" uid="uid://ntw5ubccc2qm" path="res://addons/mmpluseditor/resources/mm_plus_data.gd" id="3_sx5wx"]

[sub_resource type="Environment" id="Environment_u2sx3"]
background_mode = 1
background_color = Color(0.552941, 0.552941, 0.552941, 1)
ambient_light_source = 2
ambient_light_color = Color(0.690196, 0.690196, 0.690196, 1)
tonemap_mode = 2
glow_enabled = true

[sub_resource type="MultiMesh" id="MultiMesh_u2sx3"]
transform_format = 1
use_colors = true
instance_count = 11
buffer = PackedFloat32Array(0.99870753, 0.049987134, -0.009199073, -0.046818584, -0.05082653, 0.9822139, -0.18075567, 7.812453, 0, 0.1809896, 0.983485, 1.8169094, 0.33249426, 0.77262986, 0.048099644, 1, 0.98923904, -0.14620861, -0.0054011233, -0.6618985, 0.14630835, 0.9885647, 0.03651878, 8.012104, 0, -0.036916032, 0.99931836, 0.46758217, 0.5055864, 0.12457106, 0.21121766, 1, 0.9912369, -0.1318805, 0.0075404136, -1.7472562, 0.1320959, 0.9896207, -0.056582656, 7.7964783, 0, 0.057082877, 0.9983694, 0.9462594, 0.83062524, 0.7708895, 0.10394294, 1, 0.99307233, -0.11635901, 0.016368357, -1.1175208, 0.11750464, 0.9833902, -0.13833466, 7.7134447, 0, 0.13929968, 0.99025023, 2.0433955, 0.29185674, 0.9563947, 0.33788696, 1, 0.99391216, -0.10626324, 0.029098926, -0.41391283, 0.11017542, 0.9586197, -0.2625066, 7.5446744, 0, 0.2641145, 0.9644913, 2.7395182, 0.8173307, 0.8043515, 0.87550396, 1, 0.9932308, -0.110598356, 0.035502773, -1.4394614, 0.11615697, 0.9457004, -0.30357584, 7.3353133, 0, 0.30564478, 0.9521456, 2.9569979, 0.83877105, 0.85233176, 0.6608915, 1, 0.9779684, -0.19576617, 0.072480366, -2.4860978, 0.20875296, 0.9171277, -0.3395569, 7.109685, 0, 0.3472064, 0.9377887, 2.8594332, 0.56488234, 0.021492725, 0.35403827, 1, 0.97045535, -0.22831327, 0.07803549, -2.3924692, 0.24128091, 0.9182982, -0.31386635, 7.463688, 0, 0.32342172, 0.9462549, 1.8547912, 0.045825128, 0.37714565, 0.8964538, 1, 0.942277, -0.32735434, 0.070379004, -2.8616035, 0.3348344, 0.921227, -0.19805767, 7.4470553, 0, 0.21019049, 0.9776604, 0.9649145, 0.8768659, 0.91584295, 0.5861016, 1, 0.93235356, -0.35696176, 0.057403322, -3.552115, 0.36154783, 0.9205271, -0.14803074, 7.0387483, 0, 0.15877102, 0.9873155, 1.5914369, 0.5861389, 0.8275877, 0.8370969, 1, 0.9105271, -0.41318384, 0.014812329, -4.077419, 0.41344923, 0.9099427, -0.032620758, 6.9266057, 0, 0.035826232, 0.999358, 0.34780413, 0.5312238, 0.018078249, 0.033078562, 1)

[sub_resource type="MultiMesh" id="MultiMesh_s7u2m"]
transform_format = 1
use_colors = true
instance_count = 2
buffer = PackedFloat32Array(0.99870753, 0.049987134, -0.009199073, 1.2107368, -0.05082653, 0.9822139, -0.18075567, 7.7238874, 0, 0.1809896, 0.983485, 1.9502249, 0.5961471, 0.35119697, 0.91864574, 1, 0.99870753, 0.049987134, -0.009199073, 0.46321756, -0.05082653, 0.9822139, -0.18075567, 8.033352, 0, 0.1809896, 0.983485, 0.4772482, 0.17292996, 0.19868813, 0.63131994, 1)

[sub_resource type="MultiMesh" id="MultiMesh_sx5wx"]
transform_format = 1
use_colors = true
instance_count = 11
buffer = PackedFloat32Array(0.9993651, 0.035627186, 0.00042084017, 0.0979784, -0.03562967, 0.99929535, 0.011804009, 7.994332, 0, -0.011811508, 0.99993026, -0.66134405, 0.4523693, 0.48068726, 0.25496495, 1, 0.99961317, 0.027620014, 0.0032560201, 0.10625885, -0.027811272, 0.99273884, 0.11703028, 7.8335824, 0, -0.11707556, 0.99312305, -1.8822396, 0.1803047, 0.35274398, 0.1329588, 1, 0.99961317, 0.027620014, 0.0032560201, 1.0391321, -0.027811272, 0.99273884, 0.11703028, 7.8991246, 0, -0.11707556, 0.99312305, -1.1063968, 0.48311907, 0.8778869, 0.25102893, 1, 0.99974585, 0.021434482, 0.0069836034, 1.0258265, -0.022543462, 0.95056534, 0.30970523, 7.6409636, 0, -0.30978397, 0.950807, -2.3073459, 0.10759564, 0.61809576, 0.09712406, 1, 0.9996708, 0.023603735, 0.01005858, 0.7765537, -0.025657576, 0.919649, 0.39190248, 7.054263, 0, -0.39203152, 0.91995174, -3.8114958, 0.12854901, 0.58636117, 0.8949277, 1, 0.99919415, 0.034741227, 0.02010322, 0.7412678, -0.040138412, 0.8648382, 0.5004438, 6.4642797, 0, -0.5008474, 0.8655356, -4.759318, 0.2558012, 0.0854387, 0.0815992, 1, 0.99063826, 0.11616304, 0.07170764, 1.7216492, -0.13651314, 0.84296316, 0.5203626, 6.5714717, 0, -0.5252802, 0.8509293, -4.303422, 0.21474878, 0.9002377, 0.51324564, 1, 0.97928894, 0.18183312, 0.089050315, 1.5827283, -0.20246787, 0.8794835, 0.43071517, 7.213081, 0, -0.4398244, 0.8980838, -3.1112957, 0.85071564, 0.42738926, 0.44899735, 1, 0.96549445, 0.24678084, 0.08318423, 2.506703, -0.26042348, 0.9149157, 0.30839735, 7.3765144, 0, -0.31941906, 0.9476136, -1.9801762, 0.6643573, 0.85197973, 0.55869126, 1, 0.96549445, 0.24678084, 0.08318423, 2.6285975, -0.26042348, 0.9149157, 0.30839735, 6.9830017, 0, -0.31941906, 0.9476136, -3.013145, 0.29586312, 0.9566403, 0.11636947, 1, 0.95877993, 0.2781917, 0.057883017, 2.5994735, -0.2841497, 0.93867636, 0.19530928, 7.5703087, 0, -0.20370606, 0.9790321, -0.8383585, 0.39233688, 0.3139413, 0.9644865, 1)

[sub_resource type="MultiMesh" id="MultiMesh_tiyy8"]
transform_format = 1
use_colors = true
instance_count = 13
buffer = PackedFloat32Array(0.99974585, 0.021434482, 0.0069836034, -0.0005568117, -0.022543462, 0.95056534, 0.30970523, 7.3889875, 0, -0.30978397, 0.950807, -3.1515465, 0.6406488, 0.99575883, 0.25521377, 1, 0.99945104, 0.029503167, 0.015069751, -0.46999466, -0.033129055, 0.89006376, 0.4546305, 6.8308015, 0, -0.4548802, 0.89055264, -4.251706, 0.61462265, 0.10960061, 0.44541854, 1, 0.99908984, -0.040166676, -0.01435521, -1.0167227, 0.04265482, 0.9408108, 0.33623734, 7.484623, 0, -0.33654365, 0.94166785, -2.726387, 0.93944913, 0.22953686, 0.5564574, 1, 0.9899045, -0.13083868, -0.054500118, -1.7933398, 0.14173575, 0.9137977, 0.38063732, 7.129294, 0, -0.38451922, 0.923117, -3.2524426, 0.33121222, 0.59933513, 0.16600782, 1, 0.98047066, -0.18484415, -0.06715581, -2.080113, 0.19666535, 0.9215364, 0.33480376, 7.466355, 0, -0.34147245, 0.9398918, -2.1523995, 0.37409493, 0.7795593, 0.9628449, 1, 0.9812615, -0.18459739, -0.05522441, -1.2210506, 0.1926809, 0.94009477, 0.28124008, 7.834513, 0, -0.28661072, 0.9580471, -1.428462, 0.99588364, 0.30515814, 0.6266582, 1, 0.9867098, -0.16116978, -0.020692557, -1.5191691, 0.1624927, 0.97867656, 0.1256521, 7.8911858, 0, -0.12734453, 0.99185854, -0.25317377, 0.017747832, 0.05883481, 0.014206763, 1, 0.9867098, -0.16116978, -0.020692557, -2.2570477, 0.1624927, 0.97867656, 0.1256521, 7.6842427, 0, -0.12734453, 0.99185854, -0.90971255, 0.51119906, 0.0905923, 0.6267621, 1, 0.9223737, -0.38441524, 0.03810082, -3.197474, 0.38629878, 0.91787636, -0.09097413, 7.3855524, 0, 0.09863044, 0.9951241, -0.08296174, 0.08438506, 0.46956918, 0.32270965, 1, 0.88729113, -0.45970201, -0.03726366, -3.7156076, 0.46120983, 0.88439035, 0.07168909, 6.982535, 0, -0.08079545, 0.99673074, -1.4436741, 0.10069764, 0.6112843, 0.18012612, 1, 0.87850136, -0.47418383, -0.058181014, -4.447896, 0.4777398, 0.87196237, 0.10698732, 6.660402, 0, -0.12178389, 0.99255663, -0.6836645, 0.8417171, 0.19988406, 0.2623436, 1, 0.8667358, -0.48942548, -0.09608188, -4.1747646, 0.49876747, 0.8505017, 0.1669668, 6.493806, 0, -0.19263862, 0.9812698, -2.2517176, 0.66444194, 0.33675465, 0.9039881, 1, 0.9111723, -0.4047805, -0.07692761, -3.0725262, 0.4120256, 0.8951501, 0.17012122, 7.0518546, 0, -0.18670589, 0.9824158, -2.3771832, 0.7822125, 0.9623256, 0.807257, 1)

[sub_resource type="MultiMesh" id="MultiMesh_0d1xf"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_eeyjn"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_7fvcy"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_8idee"]
transform_format = 1
use_colors = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_u2sx3"]
vertex_color_use_as_albedo = true
vertex_color_is_srgb = true

[sub_resource type="BoxMesh" id="BoxMesh_u2sx3"]
material = SubResource("StandardMaterial3D_u2sx3")

[sub_resource type="BoxMesh" id="BoxMesh_sx5wx"]

[sub_resource type="Resource" id="Resource_tiyy8"]
script = ExtResource("2_sx5wx")
mesh = SubResource("BoxMesh_sx5wx")

[sub_resource type="SphereMesh" id="SphereMesh_0d1xf"]

[sub_resource type="Resource" id="Resource_eeyjn"]
script = ExtResource("2_sx5wx")
mesh = SubResource("SphereMesh_0d1xf")

[sub_resource type="Resource" id="Resource_sx5wx"]
script = ExtResource("2_sx5wx")

[sub_resource type="Resource" id="Resource_8idee"]
script = ExtResource("3_sx5wx")
metadata/_custom_type_script = "uid://ntw5ubccc2qm"

[sub_resource type="Resource" id="Resource_kq50e"]
script = ExtResource("3_sx5wx")
metadata/_custom_type_script = "uid://ntw5ubccc2qm"

[sub_resource type="Resource" id="Resource_8nhwm"]
script = ExtResource("3_sx5wx")
metadata/_custom_type_script = "uid://ntw5ubccc2qm"

[sub_resource type="SphereShape3D" id="SphereShape3D_u2sx3"]
radius = 8.0

[sub_resource type="SphereMesh" id="SphereMesh_s7u2m"]
radius = 8.0
height = 16.0

[node name="OctreeTest" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_u2sx3")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.7071068, -0.61237234, 0.35355362, 0, 0.5000003, 0.86602527, -0.7071068, -0.61237234, 0.35355362, 0, 0, 0)
shadow_enabled = true
directional_shadow_max_distance = 30.0

[node name="MmPlus3D" type="Node3D" parent="."]
script = ExtResource("2_u2sx3")
multimesh_data_map = Dictionary[AABB, MultiMesh]({
AABB(-20, 0, 0, 20, 20, 20): SubResource("MultiMesh_u2sx3"),
AABB(0, 0, 0, 20, 20, 20): SubResource("MultiMesh_s7u2m"),
AABB(0, 0, -20, 20, 20, 20): SubResource("MultiMesh_sx5wx"),
AABB(-20, 0, -20, 20, 20, 20): SubResource("MultiMesh_tiyy8"),
AABB(-20, -20, 0, 20, 20, 20): SubResource("MultiMesh_0d1xf"),
AABB(0, -20, 0, 20, 20, 20): SubResource("MultiMesh_eeyjn"),
AABB(0, -20, -20, 20, 20, 20): SubResource("MultiMesh_7fvcy"),
AABB(-20, -20, -20, 20, 20, 20): SubResource("MultiMesh_8idee")
})
mesh = SubResource("BoxMesh_u2sx3")
mesh_list = Array[ExtResource("2_sx5wx")]([SubResource("Resource_tiyy8"), SubResource("Resource_eeyjn"), SubResource("Resource_sx5wx")])
data = Array[ExtResource("3_sx5wx")]([SubResource("Resource_8idee"), SubResource("Resource_kq50e"), SubResource("Resource_8nhwm")])
metadata/_custom_type_script = "uid://be4lu3ug8donp"

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("SphereShape3D_u2sx3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
material_override = ExtResource("2_s7u2m")
mesh = SubResource("SphereMesh_s7u2m")
skeleton = NodePath("../..")
