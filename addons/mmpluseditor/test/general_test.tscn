[gd_scene load_steps=73 format=3 uid="uid://c2oaxmwlic2rc"]

[ext_resource type="Script" uid="uid://be4lu3ug8donp" path="res://addons/mmpluseditor/nodes/mm_plus_3d.gd" id="1_xa4g1"]
[ext_resource type="Resource" uid="uid://cwldwmctr547x" path="res://addons/mmpluseditor/test/cube_mesh.tres" id="3_1flo6"]
[ext_resource type="Script" uid="uid://ntw5ubccc2qm" path="res://addons/mmpluseditor/resources/mm_plus_data.gd" id="3_1w6gs"]
[ext_resource type="Resource" uid="uid://cem4ui5pmv3ut" path="res://addons/mmpluseditor/test/sphere_mesh.tres" id="3_w6kgi"]
[ext_resource type="Material" uid="uid://c1kohdpddpx58" path="res://assets/grid_mat.tres" id="4_1flo6"]
[ext_resource type="Resource" uid="uid://bojbteysj2jjb" path="res://addons/mmpluseditor/test/cylinder_mesh.tres" id="4_h73uu"]
[ext_resource type="Resource" uid="uid://ctiiawrm7tg6w" path="res://addons/mmpluseditor/test/cone_mesh.tres" id="6_h73uu"]

[sub_resource type="Environment" id="Environment_u2sx3"]
background_mode = 1
background_color = Color(0.552941, 0.552941, 0.552941, 1)
ambient_light_source = 2
ambient_light_color = Color(0.690196, 0.690196, 0.690196, 1)
tonemap_mode = 2
glow_enabled = true

[sub_resource type="MultiMesh" id="MultiMesh_685h5"]
transform_format = 1
use_colors = true
instance_count = 1
buffer = PackedFloat32Array(1, 0, 0, -0.23569515, 0, 1, 0, -1.9073486e-06, 0, 0, 1, 7.1396456, 0.62224096, 0.8994546, 0.0044776667, 1)

[sub_resource type="MultiMesh" id="MultiMesh_1flo6"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_h73uu"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_05qsd"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_bho8b"]
transform_format = 1
use_colors = true
instance_count = 2
buffer = PackedFloat32Array(1, 0, 0, 6.488429, 0, 1, 0, -9.536743e-07, 0, 0, 1, -2.7078333, 0.31022367, 0.23370461, 0.888696, 1, 1, 0, 0, 6.9896665, 0, 1, 0, -9.536743e-07, 0, 0, 1, -2.0369132, 0.8099974, 0.6322827, 0.9194471, 1)

[sub_resource type="MultiMesh" id="MultiMesh_id5hr"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_gyg7u"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_ehps6"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_1wlv1"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_s035d"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_puirh"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_l3dwr"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_baa6d"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_oiwvo"]
transform_format = 1
use_colors = true
instance_count = 1
buffer = PackedFloat32Array(1, 0, 0, -4.444874, 0, 1, 0, 0, 0, 0, 1, 1.816051, 0.8187163, 0.8559068, 0.26304996, 1)

[sub_resource type="Resource" id="Resource_h73uu"]
script = ExtResource("3_1w6gs")
mesh_data = ExtResource("3_1flo6")
multimesh_data_map = Dictionary[AABB, MultiMesh]({
AABB(-20, -20, 0, 20, 20, 20): SubResource("MultiMesh_685h5"),
AABB(-20, 0, -20, 20, 20, 20): SubResource("MultiMesh_1flo6"),
AABB(0, 0, -20, 20, 20, 20): SubResource("MultiMesh_h73uu"),
AABB(20, -20, 0, 20, 20, 20): SubResource("MultiMesh_05qsd"),
AABB(0, -20, -20, 20, 20, 20): SubResource("MultiMesh_bho8b"),
AABB(0, -20, 0, 20, 20, 20): SubResource("MultiMesh_id5hr"),
AABB(0, 0, 0, 20, 20, 20): SubResource("MultiMesh_gyg7u"),
AABB(20, 0, 0, 20, 20, 20): SubResource("MultiMesh_ehps6"),
AABB(20, 0, -20, 20, 20, 20): SubResource("MultiMesh_1wlv1"),
AABB(20, -20, -20, 20, 20, 20): SubResource("MultiMesh_s035d"),
AABB(-40, 0, -20, 20, 20, 20): SubResource("MultiMesh_puirh"),
AABB(-20, -20, -20, 20, 20, 20): SubResource("MultiMesh_l3dwr"),
AABB(-40, 0, 0, 20, 20, 20): SubResource("MultiMesh_baa6d"),
AABB(-20, 0, 0, 20, 20, 20): SubResource("MultiMesh_oiwvo")
})

[sub_resource type="MultiMesh" id="MultiMesh_ctnn2"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_xrcgx"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_cqu01"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_010ay"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_adao4"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_31ftu"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_xuq57"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_iskgq"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_rn1h8"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_cokws"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_vu7hm"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_tt286"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_8rptu"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_u01fc"]
transform_format = 1
use_colors = true

[sub_resource type="Resource" id="Resource_xrcgx"]
script = ExtResource("3_1w6gs")
mesh_data = ExtResource("6_h73uu")
multimesh_data_map = Dictionary[AABB, MultiMesh]({
AABB(-20, 0, -20, 20, 20, 20): SubResource("MultiMesh_ctnn2"),
AABB(0, 0, -20, 20, 20, 20): SubResource("MultiMesh_xrcgx"),
AABB(0, -20, -20, 20, 20, 20): SubResource("MultiMesh_cqu01"),
AABB(20, -20, -20, 20, 20, 20): SubResource("MultiMesh_010ay"),
AABB(20, -20, 0, 20, 20, 20): SubResource("MultiMesh_adao4"),
AABB(20, 0, 0, 20, 20, 20): SubResource("MultiMesh_31ftu"),
AABB(0, 0, 0, 20, 20, 20): SubResource("MultiMesh_xuq57"),
AABB(0, -20, 0, 20, 20, 20): SubResource("MultiMesh_iskgq"),
AABB(20, 0, -20, 20, 20, 20): SubResource("MultiMesh_rn1h8"),
AABB(-40, 0, -20, 20, 20, 20): SubResource("MultiMesh_cokws"),
AABB(-20, 0, -40, 20, 20, 20): SubResource("MultiMesh_vu7hm"),
AABB(-20, 0, 0, 20, 20, 20): SubResource("MultiMesh_tt286"),
AABB(-40, 0, 0, 20, 20, 20): SubResource("MultiMesh_8rptu"),
AABB(-20, -20, -20, 20, 20, 20): SubResource("MultiMesh_u01fc")
})

[sub_resource type="MultiMesh" id="MultiMesh_jdc7n"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_86tiq"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_5k2p6"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_mtngi"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_d5vvt"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_083uq"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_tq0ng"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_bi2h1"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_0mrqs"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_cc1g2"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_dg30y"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_abcyi"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_26wnm"]
transform_format = 1
use_colors = true
instance_count = 1
buffer = PackedFloat32Array(1, 0, 0, -5.091014, 0, 1, 0, 0, 0, 0, 1, 5.917733, 0.96461856, 0.024789354, 0.13441502, 1)

[sub_resource type="MultiMesh" id="MultiMesh_2i555"]
transform_format = 1
use_colors = true

[sub_resource type="Resource" id="Resource_1flo6"]
script = ExtResource("3_1w6gs")
mesh_data = ExtResource("4_h73uu")
multimesh_data_map = Dictionary[AABB, MultiMesh]({
AABB(-20, 0, -20, 20, 20, 20): SubResource("MultiMesh_jdc7n"),
AABB(0, 0, -20, 20, 20, 20): SubResource("MultiMesh_86tiq"),
AABB(20, -20, 0, 20, 20, 20): SubResource("MultiMesh_5k2p6"),
AABB(0, -20, 0, 20, 20, 20): SubResource("MultiMesh_mtngi"),
AABB(20, -20, -20, 20, 20, 20): SubResource("MultiMesh_d5vvt"),
AABB(0, -20, -20, 20, 20, 20): SubResource("MultiMesh_083uq"),
AABB(0, 0, 0, 20, 20, 20): SubResource("MultiMesh_tq0ng"),
AABB(20, 0, 0, 20, 20, 20): SubResource("MultiMesh_bi2h1"),
AABB(20, 0, -20, 20, 20, 20): SubResource("MultiMesh_0mrqs"),
AABB(-40, 0, -20, 20, 20, 20): SubResource("MultiMesh_cc1g2"),
AABB(-20, 0, -40, 20, 20, 20): SubResource("MultiMesh_dg30y"),
AABB(-20, -20, -20, 20, 20, 20): SubResource("MultiMesh_abcyi"),
AABB(-20, 0, 0, 20, 20, 20): SubResource("MultiMesh_26wnm"),
AABB(-40, 0, 0, 20, 20, 20): SubResource("MultiMesh_2i555")
})
metadata/_custom_type_script = "uid://ntw5ubccc2qm"

[sub_resource type="MultiMesh" id="MultiMesh_q0sc6"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_5n3xv"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_x50ts"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_ul4q3"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_0qixq"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_x4o7u"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_iaupp"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_kllo8"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_6fq80"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_hegyx"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_osud4"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_klcm1"]
transform_format = 1
use_colors = true
instance_count = 3
buffer = PackedFloat32Array(1, 0, 0, -5.635622, 0, 1, 0, 0, 0, 0, 1, 5.2132945, 0.03854854, 0.92264706, 0.23615088, 1, 1, 0, 0, -5.8483, 0, 1, 0, 0, 0, 0, 1, 4.32942, 0.7964853, 0.8524517, 0.61802655, 1, 1, 0, 0, -5.6007853, 0, 1, 0, 0, 0, 0, 1, 3.0035622, 0.6589258, 0.82034296, 0.3089797, 1)

[sub_resource type="MultiMesh" id="MultiMesh_23mvp"]
transform_format = 1
use_colors = true

[sub_resource type="MultiMesh" id="MultiMesh_ay80k"]
transform_format = 1
use_colors = true

[sub_resource type="Resource" id="Resource_86tiq"]
script = ExtResource("3_1w6gs")
mesh_data = ExtResource("3_w6kgi")
multimesh_data_map = Dictionary[AABB, MultiMesh]({
AABB(-20, 0, -20, 20, 20, 20): SubResource("MultiMesh_q0sc6"),
AABB(0, 0, -20, 20, 20, 20): SubResource("MultiMesh_5n3xv"),
AABB(0, -20, 0, 20, 20, 20): SubResource("MultiMesh_x50ts"),
AABB(20, 0, -20, 20, 20, 20): SubResource("MultiMesh_ul4q3"),
AABB(0, 0, 0, 20, 20, 20): SubResource("MultiMesh_0qixq"),
AABB(20, 0, 0, 20, 20, 20): SubResource("MultiMesh_x4o7u"),
AABB(20, -20, 0, 20, 20, 20): SubResource("MultiMesh_iaupp"),
AABB(-40, 0, -20, 20, 20, 20): SubResource("MultiMesh_kllo8"),
AABB(0, -20, -20, 20, 20, 20): SubResource("MultiMesh_6fq80"),
AABB(20, -20, -20, 20, 20, 20): SubResource("MultiMesh_hegyx"),
AABB(-20, 0, -40, 20, 20, 20): SubResource("MultiMesh_osud4"),
AABB(-20, 0, 0, 20, 20, 20): SubResource("MultiMesh_klcm1"),
AABB(-40, 0, 0, 20, 20, 20): SubResource("MultiMesh_23mvp"),
AABB(-20, -20, -20, 20, 20, 20): SubResource("MultiMesh_ay80k")
})

[sub_resource type="SphereShape3D" id="SphereShape3D_u2sx3"]
radius = 8.0

[sub_resource type="SphereMesh" id="SphereMesh_s7u2m"]
radius = 8.0
height = 16.0

[sub_resource type="WorldBoundaryShape3D" id="WorldBoundaryShape3D_1flo6"]

[sub_resource type="PlaneMesh" id="PlaneMesh_8rptu"]
material = ExtResource("4_1flo6")
size = Vector2(100, 100)

[node name="OctreeTest" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_u2sx3")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(0.7071068, -0.61237234, 0.35355362, 0, 0.5000003, 0.86602527, -0.7071068, -0.61237234, 0.35355362, 0, 0, 0)
shadow_enabled = true
directional_shadow_max_distance = 30.0

[node name="MmPlus3D" type="Node3D" parent="."]
script = ExtResource("1_xa4g1")
data = Array[ExtResource("3_1w6gs")]([SubResource("Resource_h73uu"), SubResource("Resource_xrcgx"), SubResource("Resource_1flo6"), SubResource("Resource_86tiq")])
metadata/_custom_type_script = "uid://be4lu3ug8donp"

[node name="StaticBody3D" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("SphereShape3D_u2sx3")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
material_override = ExtResource("4_1flo6")
mesh = SubResource("SphereMesh_s7u2m")
skeleton = NodePath("../..")

[node name="StaticBody3D2" type="StaticBody3D" parent="."]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("WorldBoundaryShape3D_1flo6")

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D2"]
mesh = SubResource("PlaneMesh_8rptu")
